CREATE TABLE APPLICATION_USER (ID SERIAL PRIMARY KEY, USERNAME VARCHAR(20) UNIQUE, PASSWORD VARCHAR(100) NOT NULL);
CREATE TABLE LETTORI (ID SERIAL PRIMARY KEY, NOME VARCHAR(50), COGNOME VARCHAR(50), DATA_INS DATE, TELEFONO VARCHAR (12),EMAIL VARCHAR(100), INDIRIZZO TEXT, NOTE TEXT);
CREATE TABLE AUTORI (ID SERIAL PRIMARY KEY, NOME VARCHAR(50), COGNOME VARCHAR(50), DATA_NASCITA DATE, LUOGO_NASCITA VARCHAR(50), DATA_MORTE DATE, LUOGO_MORTE VARCHAR(50), NOTE TEXT);
CREATE TABLE LIBRI (ISBN VARCHAR (13) PRIMARY KEY, TITOLO VARCHAR(50), DATA_PUBBLICAZIONE DATE, LINGUA VARCHAR (50), LINGUA_ORIGINALE BOOLEAN, NOTE TEXT);
CREATE TABLE VOLUMI (ID SERIAL PRIMARY KEY, LIBRO VARCHAR(13) NOT NULL REFERENCES LIBRI(ISBN), PROPRIETARIO INTEGER NOT NULL REFERENCES LETTORI(ID), STATO_PRESTITO VARCHAR(20), PRESTABILE BOOLEAN, CONSULTABILE BOOLEAN, NOTE TEXT);
CREATE TABLE PRESTITI (ID SERIAL PRIMARY KEY, VOLUME INTEGER NOT NULL REFERENCES VOLUMI(ID), DATA_PRENOTAZIONE DATE, DATA_PRESTITO DATE, DATA_RESTITUZIONE DATE, PROPRIETARIO INTEGER REFERENCES LETTORI(ID), RICEVENTE INTEGER NOT NULL REFERENCES LETTORI(ID), NOTE TEXT);
CREATE TABLE LIBRI_AUTORI (ID_LIBRO VARCHAR(13) NOT NULL REFERENCES LIBRI(ISBN), ID_AUTORE INTEGER NOT NULL REFERENCES AUTORI(ID), PRIMARY KEY(ID_LIBRO, ID_AUTORE));
